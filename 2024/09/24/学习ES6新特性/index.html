

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/egg.png">
  <link rel="icon" href="/img/egg.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="monica">
  <meta name="keywords" content="">
  
    <meta name="description" content="1. ES61.1.1 let变量声明1234567891011121314151617181920212223&#x2F;&#x2F; 1.不允许重复声明     &#x2F;&#x2F; let a &#x3D; 1;     &#x2F;&#x2F; let a &#x3D; 2;     &#x2F;&#x2F; 2.块级作用域  ES5三种作用域：全局 函数 eval     &#x2F;&#x2F; if else for while     &#x2F;&#x2F; &#123;     &#x2F;&#x2F;     let a &#x3D; 5">
<meta property="og:type" content="article">
<meta property="og:title" content="学习ES6新特性">
<meta property="og:url" content="http://example.com/2024/09/24/%E5%AD%A6%E4%B9%A0ES6%E6%96%B0%E7%89%B9%E6%80%A7/index.html">
<meta property="og:site_name" content="monica的个人博客">
<meta property="og:description" content="1. ES61.1.1 let变量声明1234567891011121314151617181920212223&#x2F;&#x2F; 1.不允许重复声明     &#x2F;&#x2F; let a &#x3D; 1;     &#x2F;&#x2F; let a &#x3D; 2;     &#x2F;&#x2F; 2.块级作用域  ES5三种作用域：全局 函数 eval     &#x2F;&#x2F; if else for while     &#x2F;&#x2F; &#123;     &#x2F;&#x2F;     let a &#x3D; 5">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/es6.png">
<meta property="article:published_time" content="2024-09-24T07:32:36.000Z">
<meta property="article:modified_time" content="2024-09-24T08:27:31.943Z">
<meta property="article:author" content="monica">
<meta property="article:tag" content="学习笔记">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://example.com/img/es6.png">
  
  
  
  <title>学习ES6新特性 - monica的个人博客</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":"UCX6Z0bgMX2VKp9OOfO3y6Kz-MdYXbMMI","app_key":"N0LfGAEBHMjHluMYQMLbyISO","server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  

  

  

  
    
  



  
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>monica&#39;s blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/" target="_self">
                <i class="iconfont icon-link-fill"></i>
                <span>友链</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/bg.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.5)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="学习ES6新特性"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2024-09-24 15:32" pubdate>
          2024年9月24日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          6.8k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          57 分钟
        
      </span>
    

    
    
      
        <span id="leancloud-page-views-container" class="post-meta" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="leancloud-page-views"></span>次
        </span>
        
      
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">学习ES6新特性</h1>
            
            
              <div class="markdown-body">
                
                <h2 id="1-ES6"><a href="#1-ES6" class="headerlink" title="1. ES6"></a>1. ES6</h2><h3 id="1-1-1-let变量声明"><a href="#1-1-1-let变量声明" class="headerlink" title="1.1.1 let变量声明"></a>1.1.1 let变量声明</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 1.不允许重复声明</span><br>     <span class="hljs-comment">// let a = 1;</span><br>     <span class="hljs-comment">// let a = 2;</span><br><br>     <span class="hljs-comment">// 2.块级作用域  ES5三种作用域：全局 函数 eval</span><br>     <span class="hljs-comment">// if else for while</span><br>     <span class="hljs-comment">// &#123;</span><br>     <span class="hljs-comment">//     let a = 5;</span><br>     <span class="hljs-comment">// &#125;</span><br>     <span class="hljs-comment">// console.log(a);</span><br><br>     <span class="hljs-comment">// 3.不存在变量提升(即不允许使用未声明的变量)</span><br>     <span class="hljs-comment">// console.log(a);</span><br>     <span class="hljs-comment">// let a = 7;</span><br><br>     <span class="hljs-comment">// 4.不影响作用域链（即块级作用域里的函数等还可以使用变量）</span><br>     <span class="hljs-comment">// &#123;</span><br>     <span class="hljs-comment">//     let a = 7;</span><br>     <span class="hljs-comment">//     function fn() &#123;</span><br>     <span class="hljs-comment">//         console.log(a);</span><br>     <span class="hljs-comment">//     &#125;</span><br>     <span class="hljs-comment">//     fn();</span><br>     <span class="hljs-comment">// &#125;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-1-2-let经典案例（和var对比）"><a href="#1-1-2-let经典案例（和var对比）" class="headerlink" title="1.1.2 let经典案例（和var对比）"></a>1.1.2 let经典案例（和var对比）</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 获取元素对象</span><br><span class="hljs-keyword">let</span> items = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&#x27;.item&#x27;</span>);<br><br><span class="hljs-comment">// 给每个item绑定点击事件，点击时切换背景颜色</span><br><br><span class="hljs-comment">// 以前用var写必须要用this</span><br><br><span class="hljs-comment">// for (var i = 0; i &lt; items.length; i++) &#123;</span><br><span class="hljs-comment">//     items[i].onclick = function () &#123;</span><br><span class="hljs-comment">//         this.style.backgroundColor = &#x27;pink&#x27;;</span><br><span class="hljs-comment">//     &#125;</span><br><span class="hljs-comment">// &#125;</span><br><br><span class="hljs-comment">// 如果写成items[i]会出问题，以上代码等价如下</span><br><span class="hljs-comment">// var不存在块级作用域，块与块之间相互污染，所有的i都为window.i为3</span><br><span class="hljs-comment">// &#123;</span><br><span class="hljs-comment">//     var i=0;</span><br><span class="hljs-comment">//     items[i].onclick = function () &#123;</span><br><span class="hljs-comment">//         this.style.backgroundColor = &#x27;pink&#x27;;</span><br><span class="hljs-comment">//     &#125;</span><br><span class="hljs-comment">// &#125;;</span><br><br><span class="hljs-comment">// &#123;</span><br><span class="hljs-comment">//     var i=1;</span><br><span class="hljs-comment">//     items[i].onclick = function () &#123;</span><br><span class="hljs-comment">//         this.style.backgroundColor = &#x27;pink&#x27;;</span><br><span class="hljs-comment">//     &#125;</span><br><span class="hljs-comment">// &#125;;</span><br><br><span class="hljs-comment">// &#123;</span><br><span class="hljs-comment">//     var i=2;</span><br><span class="hljs-comment">//     items[i].onclick = function () &#123;</span><br><span class="hljs-comment">//         this.style.backgroundColor = &#x27;pink&#x27;;</span><br><span class="hljs-comment">//     &#125;</span><br><span class="hljs-comment">// &#125;;</span><br><br><span class="hljs-comment">//用let声明i像以下这样写是可行的</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; items.<span class="hljs-property">length</span>; i++) &#123;<br>    items[i].<span class="hljs-property">onclick</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        items[i].<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = <span class="hljs-string">&#x27;pink&#x27;</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//等价于</span><br><span class="hljs-comment">//块与块之间不相互干扰</span><br><span class="hljs-comment">// &#123;</span><br><span class="hljs-comment">//     let i=0;</span><br><span class="hljs-comment">//     items[i].onclick = function () &#123;</span><br><span class="hljs-comment">//         this.style.backgroundColor = &#x27;pink&#x27;;</span><br><span class="hljs-comment">//     &#125;</span><br><span class="hljs-comment">// &#125;;</span><br><br><span class="hljs-comment">// &#123;</span><br><span class="hljs-comment">//     let i=1;</span><br><span class="hljs-comment">//     items[i].onclick = function () &#123;</span><br><span class="hljs-comment">//         this.style.backgroundColor = &#x27;pink&#x27;;</span><br><span class="hljs-comment">//     &#125;</span><br><span class="hljs-comment">// &#125;;</span><br><br><span class="hljs-comment">// &#123;</span><br><span class="hljs-comment">//     let i=2;</span><br><span class="hljs-comment">//     items[i].onclick = function () &#123;</span><br><span class="hljs-comment">//         this.style.backgroundColor = &#x27;pink&#x27;;</span><br><span class="hljs-comment">//     &#125;</span><br><span class="hljs-comment">// &#125;;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-2-const常量声明"><a href="#1-2-const常量声明" class="headerlink" title="1.2 const常量声明"></a>1.2 const常量声明</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//声明常量</span><br>   <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">PI</span> = <span class="hljs-number">3.14</span>;<br><br>   <span class="hljs-comment">//1.常量必须在声明时赋值</span><br>   <span class="hljs-comment">// const A;</span><br><br>   <span class="hljs-comment">//2.常量通常用大写表示，但用小写也不会报错</span><br>   <span class="hljs-comment">// const school=&#x27;UESTC&#x27;;</span><br><br>   <span class="hljs-comment">//3.常量的值不能修改</span><br>   <span class="hljs-comment">// PI=6;</span><br><br>   <span class="hljs-comment">// 4.对对象和数组元素的改变不算做对常量的改变，因为该常量存储的是地址</span><br>   <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">ARR</span> = [<span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;2&#x27;</span>, <span class="hljs-string">&#x27;3&#x27;</span>]<br>   <span class="hljs-variable constant_">ARR</span>.<span class="hljs-title function_">push</span>(<span class="hljs-string">&#x27;4&#x27;</span>);<br></code></pre></td></tr></table></figure>

<h3 id="1-3-变量的解构赋值"><a href="#1-3-变量的解构赋值" class="headerlink" title="1.3 变量的解构赋值"></a>1.3 变量的解构赋值</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 数组解构赋值</span><br>      <span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;monica&#x27;</span>, <span class="hljs-string">&#x27;andrew&#x27;</span>, <span class="hljs-string">&#x27;rosa&#x27;</span>];<br><br>      <span class="hljs-comment">// 按顺序赋值，注意要是方括号[]</span><br>      <span class="hljs-keyword">let</span> [first, second, third] = arr;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(first, second, third);<br><br>      <span class="hljs-comment">// 对象解构赋值</span><br>      <span class="hljs-keyword">const</span> monica = &#123;<br>          <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;monica&#x27;</span>,<br>          <span class="hljs-attr">age</span>: <span class="hljs-string">&#x27;19&#x27;</span>,<br>          <span class="hljs-attr">english</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;speak English&#x27;</span>);<br>          &#125;<br>      &#125;<br>      <span class="hljs-comment">// 要与对象中属性同名，一般解构方法，注意要写大括号&#123;&#125;</span><br>      <span class="hljs-keyword">let</span> &#123;english&#125; = monica;<br>      <span class="hljs-title function_">english</span>();<br></code></pre></td></tr></table></figure>

<h3 id="1-4-模板字符串"><a href="#1-4-模板字符串" class="headerlink" title="1.4 模板字符串"></a>1.4 模板字符串</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 1.声明字符串，使用反引号``  ES5声明字符串 单引号&#x27;&#x27; 双引号&quot;&quot;</span><br>     <span class="hljs-keyword">let</span> str = <span class="hljs-string">`我也是字符串`</span>;<br>     <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str, <span class="hljs-keyword">typeof</span> str);<br><br>     <span class="hljs-comment">// 2.可以在内容中出现换行符</span><br>     <span class="hljs-keyword">let</span> string = <span class="hljs-string">`&lt;ul&gt;</span><br><span class="hljs-string">         &lt;li&gt;哈哈&lt;/li&gt;</span><br><span class="hljs-string">         &lt;li&gt;嘻嘻&lt;/li&gt;</span><br><span class="hljs-string">         &lt;li&gt;嘿嘿&lt;/li&gt;</span><br><span class="hljs-string">         &lt;/ul&gt;`</span>;<br>         <br>     <span class="hljs-comment">//3.变量拼接</span><br>     <span class="hljs-keyword">let</span> favorite = <span class="hljs-string">&#x27;monica&#x27;</span>;<br>     <span class="hljs-keyword">let</span> output = <span class="hljs-string">`<span class="hljs-subst">$&#123;favorite&#125;</span> is my favorite`</span>;<br>     <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(output);<br></code></pre></td></tr></table></figure>

<h3 id="1-5-对象的简化写法"><a href="#1-5-对象的简化写法" class="headerlink" title="1.5 对象的简化写法"></a>1.5 对象的简化写法</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-keyword">let</span> name = <span class="hljs-string">&#x27;monica&#x27;</span>;</span><br><span class="language-javascript">       <span class="hljs-keyword">let</span> change = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">           <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;改变了~&quot;</span>);</span><br><span class="language-javascript">       &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-keyword">const</span> girl = &#123;</span><br><span class="language-javascript">           <span class="hljs-comment">//完整写法</span></span><br><span class="language-javascript">           <span class="hljs-comment">// name: name,</span></span><br><span class="language-javascript">           <span class="hljs-comment">// change: change,</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">           <span class="hljs-comment">//简化写法，属性和变量同名可以直接如下简写</span></span><br><span class="language-javascript">           name,</span><br><span class="language-javascript">           change,</span><br><span class="language-javascript">           <span class="hljs-comment">//声明函数的简写</span></span><br><span class="language-javascript">           <span class="hljs-title function_">improve</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">               <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;提升了&#x27;</span>)</span><br><span class="language-javascript">           &#125;</span><br><span class="language-javascript">       &#125;</span><br><span class="language-javascript"> </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-6-1-箭头函数及声明特点"><a href="#1-6-1-箭头函数及声明特点" class="headerlink" title="1.6.1 箭头函数及声明特点"></a>1.6.1 箭头函数及声明特点</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//声明</span></span><br><span class="language-javascript">        <span class="hljs-keyword">let</span> <span class="hljs-title function_">fn</span> = (<span class="hljs-params">a, b</span>) =&gt; &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> a + b;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">fn</span>(<span class="hljs-number">3</span>, <span class="hljs-number">9</span>));</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//1.this是静态的，始终指向函数声明时所在作用域this的值</span></span><br><span class="language-javascript">        <span class="hljs-keyword">let</span> getName = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">let</span> <span class="hljs-title function_">getName2</span> = (<span class="hljs-params"></span>) =&gt; &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript">    	<span class="hljs-comment">//实质上等同于</span></span><br><span class="language-javascript">        <span class="hljs-comment">//let fn=function(a,b)&#123;</span></span><br><span class="language-javascript">            <span class="hljs-keyword">let</span> _this=<span class="hljs-variable language_">this</span>;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(_this.<span class="hljs-property">name</span>);</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-variable language_">window</span>.<span class="hljs-property">name</span> = <span class="hljs-string">&#x27;monica&#x27;</span>;</span><br><span class="language-javascript">        <span class="hljs-keyword">const</span> girl = &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;莫妮卡&#x27;</span></span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-title function_">getName</span>();</span><br><span class="language-javascript">        <span class="hljs-title function_">getName2</span>();</span><br><span class="language-javascript">        getName.<span class="hljs-title function_">call</span>(girl);</span><br><span class="language-javascript">        getName2.<span class="hljs-title function_">call</span>(girl);</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//2.不能作为构造函数实例化对象</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//3.不能使用arguments对象</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//4.箭头函数的简写</span></span><br><span class="language-javascript">        <span class="hljs-comment">//（1）省略小括号，只有一个形参时</span></span><br><span class="language-javascript">        <span class="hljs-keyword">let</span> <span class="hljs-title function_">add</span> = n =&gt; &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> n + n;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">add</span>(<span class="hljs-number">9</span>));</span><br><span class="language-javascript">        <span class="hljs-comment">//（2）省略花括号，函数体只有一行语句时，且要省略return，语句的执行结果就是返回值</span></span><br><span class="language-javascript">        <span class="hljs-keyword">let</span> <span class="hljs-title function_">pow</span> = n =&gt; n * n;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">pow</span>(<span class="hljs-number">8</span>));</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-6-2-箭头函数实践与应用场景"><a href="#1-6-2-箭头函数实践与应用场景" class="headerlink" title="1.6.2 箭头函数实践与应用场景"></a>1.6.2 箭头函数实践与应用场景</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-comment">//需求1：点击div 2s 后变成粉色</span></span><br><span class="language-javascript">       <span class="hljs-keyword">let</span> box = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.box&#x27;</span>);</span><br><span class="language-javascript">       box.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">           <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="language-javascript">               <span class="hljs-comment">//写成匿名函数的this指向不对(指向window)</span></span><br><span class="language-javascript">               <span class="hljs-comment">// console.log(this);</span></span><br><span class="language-javascript">               <span class="hljs-variable language_">this</span>.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = <span class="hljs-string">&#x27;pink&#x27;</span>;</span><br><span class="language-javascript">           &#125;, <span class="hljs-number">2000</span>)</span><br><span class="language-javascript">       &#125;)</span><br><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-comment">//需求2：获取数组中偶数元素</span></span><br><span class="language-javascript">       <span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">10</span>, <span class="hljs-number">25</span>, <span class="hljs-number">36</span>]</span><br><span class="language-javascript">       <span class="hljs-comment">// const result = arr.filter(function (num) &#123;</span></span><br><span class="language-javascript">       <span class="hljs-comment">//     if (num % 2 === 0) &#123;</span></span><br><span class="language-javascript">       <span class="hljs-comment">//         return true;</span></span><br><span class="language-javascript">       <span class="hljs-comment">//     &#125; else &#123;</span></span><br><span class="language-javascript">       <span class="hljs-comment">//         return false;</span></span><br><span class="language-javascript">       <span class="hljs-comment">//     &#125;</span></span><br><span class="language-javascript">       <span class="hljs-comment">// &#125;)</span></span><br><span class="language-javascript">       <span class="hljs-keyword">const</span> result = arr.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">num</span> =&gt;</span> num % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>)</span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result);</span><br><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-comment">//总结：箭头函数适合应用于与this无关的场景，如定时器，数组的方法回调</span></span><br><span class="language-javascript">       <span class="hljs-comment">//箭头函数不适合应用于与this有关的场景：如事件回调，对象的方法</span></span><br><span class="language-javascript">   </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-7-函数参数的默认值设置"><a href="#1-7-函数参数的默认值设置" class="headerlink" title="1.7 函数参数的默认值设置"></a>1.7 函数参数的默认值设置</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-comment">//1.形参初始值，具有默认值的参数，一般位置靠后</span></span><br><span class="language-javascript">       <span class="hljs-comment">//如果没有传参则使用默认值</span></span><br><span class="language-javascript">       <span class="hljs-keyword">let</span> add = <span class="hljs-keyword">function</span> (<span class="hljs-params">a, b, c = <span class="hljs-number">10</span></span>) &#123;</span><br><span class="language-javascript">           <span class="hljs-keyword">return</span> a + b + c;</span><br><span class="language-javascript">       &#125;</span><br><span class="language-javascript">       <span class="hljs-comment">// console.log(add(1,2,3));</span></span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">add</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>));</span><br><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-comment">//2.与解构赋值结合</span></span><br><span class="language-javascript">       <span class="hljs-keyword">function</span> <span class="hljs-title function_">connect</span>(<span class="hljs-params">&#123; hostName = <span class="hljs-string">&#x27;127.0.0.1&#x27;</span>, userName, password, port &#125;</span>) &#123;</span><br><span class="language-javascript">           <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(hostName);</span><br><span class="language-javascript">           <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(userName);</span><br><span class="language-javascript">           <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(password);</span><br><span class="language-javascript">           <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(port);</span><br><span class="language-javascript">       &#125;</span><br><span class="language-javascript">       <span class="hljs-title function_">connect</span>(&#123;</span><br><span class="language-javascript">           <span class="hljs-comment">// hostName: &#x27;localhost&#x27;,</span></span><br><span class="language-javascript">           <span class="hljs-attr">userName</span>: <span class="hljs-string">&#x27;root&#x27;</span>,</span><br><span class="language-javascript">           <span class="hljs-attr">password</span>: <span class="hljs-string">&#x27;123&#x27;</span>,</span><br><span class="language-javascript">           <span class="hljs-attr">port</span>: <span class="hljs-string">&#x27;80&#x27;</span></span><br><span class="language-javascript">       &#125;)</span><br><span class="language-javascript">   </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-8-rest参数"><a href="#1-8-rest参数" class="headerlink" title="1.8 rest参数"></a>1.8 rest参数</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-comment">// ES5获取实参方式，不是数组</span></span><br><span class="language-javascript">      <span class="hljs-comment">// function date()&#123;</span></span><br><span class="language-javascript">      <span class="hljs-comment">//     console.log(arguments);</span></span><br><span class="language-javascript">      <span class="hljs-comment">// &#125;</span></span><br><span class="language-javascript">      <span class="hljs-comment">// date(&#x27;monica&#x27;,&#x27;andrew&#x27;,&#x27;rosa&#x27;)</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-comment">// rest参数，得到数组，操作更灵活</span></span><br><span class="language-javascript">      <span class="hljs-comment">// function date(...args)&#123;</span></span><br><span class="language-javascript">      <span class="hljs-comment">//     console.log(args);</span></span><br><span class="language-javascript">      <span class="hljs-comment">// &#125;</span></span><br><span class="language-javascript">      <span class="hljs-comment">// date(&#x27;monica&#x27;,&#x27;andrew&#x27;,&#x27;rosa&#x27;)</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-comment">// rest 参数放到最后</span></span><br><span class="language-javascript">      <span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params">a, b, ...args</span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);</span><br><span class="language-javascript">          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b);</span><br><span class="language-javascript">          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(args);</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">      <span class="hljs-comment">// 1 , 2 之后的全赋值给 args</span></span><br><span class="language-javascript">      <span class="hljs-title function_">fn</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>);</span><br><span class="language-javascript">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-9-1-扩展运算符介绍"><a href="#1-9-1-扩展运算符介绍" class="headerlink" title="1.9.1 扩展运算符介绍"></a>1.9.1 扩展运算符介绍</h3><p>将数组转换为逗号分隔的参数序列</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">let</span> students=[<span class="hljs-string">&#x27;monica&#x27;</span>,<span class="hljs-string">&#x27;andrew&#x27;</span>,<span class="hljs-string">&#x27;rosa&#x27;</span>];</span><br><span class="language-javascript">        <span class="hljs-comment">//只有一个参数</span></span><br><span class="language-javascript">        <span class="hljs-comment">// function study()&#123;</span></span><br><span class="language-javascript">        <span class="hljs-comment">//     console.log(arguments);</span></span><br><span class="language-javascript">        <span class="hljs-comment">// &#125;</span></span><br><span class="language-javascript">        <span class="hljs-comment">// study(students);</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//使用扩展运算符，有3个参数</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">study</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">arguments</span>);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-title function_">study</span>(...students);</span><br><span class="language-javascript"></span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-9-2-扩展运算符应用"><a href="#1-9-2-扩展运算符应用" class="headerlink" title="1.9.2 扩展运算符应用"></a>1.9.2 扩展运算符应用</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//1.数组的合并</span></span><br><span class="language-javascript">        <span class="hljs-keyword">const</span> boys = [<span class="hljs-string">&#x27;andrew&#x27;</span>, <span class="hljs-string">&#x27;tom&#x27;</span>];</span><br><span class="language-javascript">        <span class="hljs-keyword">const</span> girls = [<span class="hljs-string">&#x27;monica&#x27;</span>, <span class="hljs-string">&#x27;rosa&#x27;</span>];</span><br><span class="language-javascript">        <span class="hljs-comment">// const students=boys.concat(girls);</span></span><br><span class="language-javascript">        <span class="hljs-keyword">const</span> students = [...boys, ...girls]</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(students);</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//2.数组的克隆</span></span><br><span class="language-javascript">        <span class="hljs-keyword">const</span> a = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];</span><br><span class="language-javascript">        <span class="hljs-keyword">const</span> b = [...a];</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b);</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//3.将伪数组转为真正的数组</span></span><br><span class="language-javascript">        <span class="hljs-keyword">const</span> divs = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&#x27;div&#x27;</span>);</span><br><span class="language-javascript">        <span class="hljs-keyword">const</span> divArr=[...divs]</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(divs);</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(divArr);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-10-1-Symbol的介绍与创建"><a href="#1-10-1-Symbol的介绍与创建" class="headerlink" title="1.10.1 Symbol的介绍与创建"></a>1.10.1 Symbol的介绍与创建</h3><p>文字表述：<a target="_blank" rel="noopener" href="https://es6.ruanyifeng.com/#docs/symbol">Symbol - ECMAScript 6入门 (ruanyifeng.com)</a></p>
<p>symbol的值是唯一的，用来解决命名冲突</p>
<p>不能参与运算，不能枚举，不能遍历，但可以使用Reflect.ownKeys来获取对象的所有键名。或者使用<code>Object.getOwnPropertySymbols()</code>方法，可以获取指定对象的所有 Symbol 属性名，该方法返回一个数组，成员是当前对象的所有用作属性名的 Symbol 值。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">let</span> s = <span class="hljs-title class_">Symbol</span>();</span><br><span class="language-javascript">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(s, <span class="hljs-keyword">typeof</span> s);</span><br><span class="language-javascript">      <span class="hljs-comment">//Symbol()可以接受一个字符串作为参数，表示对 Symbol 实例的描述。这主要是为了在控制台显示，或者转为字符串时，比较容易区分</span></span><br><span class="language-javascript">      <span class="hljs-keyword">let</span> s2 = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&#x27;monica&#x27;</span>);</span><br><span class="language-javascript">      <span class="hljs-keyword">let</span> s3 = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&#x27;monica&#x27;</span>);</span><br><span class="language-javascript">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(s2===s3);</span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-comment">//Symbol.for()创建的值可重复使用</span></span><br><span class="language-javascript">      <span class="hljs-keyword">let</span> s4=<span class="hljs-title class_">Symbol</span>.<span class="hljs-title function_">for</span>(<span class="hljs-string">&#x27;monica&#x27;</span>);</span><br><span class="language-javascript">      <span class="hljs-keyword">let</span> s5=<span class="hljs-title class_">Symbol</span>.<span class="hljs-title function_">for</span>(<span class="hljs-string">&#x27;monica&#x27;</span>);</span><br><span class="language-javascript">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(s4===s5);</span><br><span class="language-javascript">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>JavaScript的7中数据类型：USONB</p>
<p>U	undefined</p>
<p>S	string symbol</p>
<p>O	object</p>
<p>N	null number</p>
<p>B	boolean</p>
<h3 id="1-10-2-对象添加Symbol类型属性"><a href="#1-10-2-对象添加Symbol类型属性" class="headerlink" title="1.10.2 对象添加Symbol类型属性"></a>1.10.2 对象添加Symbol类型属性</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-keyword">let</span> game = &#123;</span><br><span class="language-javascript">           <span class="hljs-attr">up</span>: <span class="hljs-string">&#x27;5&#x27;</span>,</span><br><span class="language-javascript">           <span class="hljs-attr">down</span>: <span class="hljs-string">&#x27;6&#x27;</span>,</span><br><span class="language-javascript">           <span class="hljs-attr">play</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">               <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;play&quot;</span>)</span><br><span class="language-javascript">           &#125;</span><br><span class="language-javascript">       &#125;</span><br><span class="language-javascript">       <span class="hljs-comment">//如何在不看game内部结构的情况下安全地向game中添加两个方法 up down</span></span><br><span class="language-javascript">       <span class="hljs-keyword">let</span> methods = &#123;</span><br><span class="language-javascript">           <span class="hljs-attr">up</span>: <span class="hljs-title class_">Symbol</span>(),</span><br><span class="language-javascript">           <span class="hljs-attr">down</span>: <span class="hljs-title class_">Symbol</span>()</span><br><span class="language-javascript">       &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-comment">//用[]可以访问动态属性，即内部可以是表达式或变量</span></span><br><span class="language-javascript">       game[methods.<span class="hljs-property">up</span>] = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">           <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;up&quot;</span>);</span><br><span class="language-javascript">       &#125;;</span><br><span class="language-javascript">       game[methods.<span class="hljs-property">down</span>] = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">           <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;down&quot;</span>);</span><br><span class="language-javascript">       &#125;</span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(game);</span><br><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-keyword">let</span> game2=&#123;</span><br><span class="language-javascript">           [<span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&#x27;up&#x27;</span>)]:<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">               <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;up&quot;</span>);</span><br><span class="language-javascript">           &#125;,</span><br><span class="language-javascript">           [<span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&#x27;down&#x27;</span>)]:<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">               <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;down&quot;</span>);</span><br><span class="language-javascript">           &#125;</span><br><span class="language-javascript">       &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(game2);</span><br><span class="language-javascript"></span><br><span class="language-javascript">   </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-10-3-Symbol的内置属性"><a href="#1-10-3-Symbol的内置属性" class="headerlink" title="1.10.3 Symbol的内置属性"></a>1.10.3 Symbol的内置属性</h3><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol#%E8%BF%AD%E4%BB%A3_symbols">迭代 symbols </a>	</p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/iterator"><code>Symbol.iterator</code></a></p>
<p>一个返回一个对象默认迭代器的方法。被 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for...of"><code>for...of</code></a> 使用。</p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/asyncIterator"><code>Symbol.asyncIterator</code></a> 实验性</p>
<p>一个返回对象默认的异步迭代器的方法。被 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for-await...of"><code>for await of</code></a> 使用。</p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F_symbols">正则表达式 symbols </a></p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/match"><code>Symbol.match</code></a></p>
<p>一个用于对字符串进行匹配的方法，也用于确定一个对象是否可以作为正则表达式使用。被 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/match"><code>String.prototype.match()</code></a> 使用。</p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/replace"><code>Symbol.replace</code></a></p>
<p>一个替换匹配字符串的子串的方法。被 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/replace"><code>String.prototype.replace()</code></a> 使用。</p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/search"><code>Symbol.search</code></a></p>
<p>一个返回一个字符串中与正则表达式相匹配的索引的方法。被 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/search"><code>String.prototype.search()</code></a> 使用。</p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/split"><code>Symbol.split</code></a></p>
<p>一个在匹配正则表达式的索引处拆分一个字符串的方法.。被 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/split"><code>String.prototype.split()</code></a> 使用。</p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol#%E5%85%B6%E4%BB%96_symbols">其他 symbols </a>	</p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/hasInstance"><code>Symbol.hasInstance</code></a></p>
<p>一个确定一个构造器对象识别的对象是否为它的实例的方法。被 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/instanceof"><code>instanceof</code></a> 使用。当其他对象使用<code>instanceof</code>运算符，判断是否为该对象的实例时，会调用这个方法。比如，<code>foo instanceof Foo</code>在语言内部，实际调用的是<code>Foo[Symbol.hasInstance](foo)</code></p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/isConcatSpreadable"><code>Symbol.isConcatSpreadable</code></a></p>
<p>一个布尔值，表明一个对象是否应该 flattened 为它的数组元素。被 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/concat"><code>Array.prototype.concat()</code></a> 使用。</p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/unscopables"><code>Symbol.unscopables</code></a></p>
<p>拥有和继承属性名的一个对象的值被排除在与环境绑定的相关对象外。</p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/species"><code>Symbol.species</code></a></p>
<p>一个用于创建派生对象的构造器函数。</p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toPrimitive"><code>Symbol.toPrimitive</code></a></p>
<p>一个将对象转化为基本数据类型的方法。</p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toStringTag"><code>Symbol.toStringTag</code></a></p>
<p>用于对象的默认描述的字符串值。被 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/toString"><code>Object.prototype.toString()</code></a> 使用。</p>
<h3 id="1-11-1-迭代器介绍"><a href="#1-11-1-迭代器介绍" class="headerlink" title="1.11.1 迭代器介绍"></a>1.11.1 迭代器介绍</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;monica&#x27;</span>, <span class="hljs-string">&#x27;andrew&#x27;</span>, <span class="hljs-string">&#x27;rosa&#x27;</span>, <span class="hljs-string">&#x27;tom&#x27;</span>];</span><br><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-comment">// 使用for...in遍历数组，输出的是键名</span></span><br><span class="language-javascript">       <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i <span class="hljs-keyword">in</span> arr) &#123;</span><br><span class="language-javascript">           <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i);</span><br><span class="language-javascript">       &#125;</span><br><span class="language-javascript">       <span class="hljs-comment">// 使用for...of遍历数组，输出的是键值，</span></span><br><span class="language-javascript">       <span class="hljs-comment">// 对象进行for...of循环时，会调用Symbol.iterator方法，返回该对象的默认遍历器</span></span><br><span class="language-javascript">       <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i <span class="hljs-keyword">of</span> arr) &#123;</span><br><span class="language-javascript">           <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i);</span><br><span class="language-javascript">       &#125;</span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr);</span><br><span class="language-javascript">       <span class="hljs-comment">// 对象的Symbol.iterator属性指向对象的默认遍历器方法</span></span><br><span class="language-javascript">       <span class="hljs-comment">// 执行这个属性，会返回一个遍历器对象。该对象的根本特征就是具有next方法。</span></span><br><span class="language-javascript">       <span class="hljs-comment">// 每次调用next方法，都会返回一个代表当前成员的信息对象，具有value和done两个属性</span></span><br><span class="language-javascript">       <span class="hljs-keyword">let</span> iterator = arr[<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>]();</span><br><span class="language-javascript">       <span class="hljs-comment">// 调用遍历器的next方法</span></span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>());</span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>());</span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>());</span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>());</span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>());</span><br><span class="language-javascript">   </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-11-2-迭代器应用-自定义遍历数据"><a href="#1-11-2-迭代器应用-自定义遍历数据" class="headerlink" title="1.11.2 迭代器应用_自定义遍历数据"></a>1.11.2 迭代器应用_自定义遍历数据</h3><p>对于原生部署 Iterator 接口的数据结构，不用自己写遍历器生成函数，<code>for...of</code>循环会自动遍历它们。除此之外，其他数据结构（主要是对象）的 Iterator 接口，都需要自己在<code>Symbol.iterator</code>属性上面部署，这样才会被<code>for...of</code>循环遍历。</p>
<p>对象（Object）之所以没有默认部署 Iterator 接口，是因为对象的哪个属性先遍历，哪个属性后遍历是不确定的，需要开发者手动指定。本质上，遍历器是一种线性处理，对于任何非线性的数据结构，部署遍历器接口，就等于部署一种线性转换。不过，严格地说，对象部署遍历器接口并不是很必要，因为这时对象实际上被当作 Map 结构使用，ES5 没有 Map 结构，而 ES6 原生提供了</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">const</span> school = &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;UEXTC&#x27;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">students</span>: [</span><br><span class="language-javascript">                <span class="hljs-string">&#x27;monica&#x27;</span>,</span><br><span class="language-javascript">                <span class="hljs-string">&#x27;andrew&#x27;</span>,</span><br><span class="language-javascript">                <span class="hljs-string">&#x27;rosa&#x27;</span>,</span><br><span class="language-javascript">                <span class="hljs-string">&#x27;tom&#x27;</span></span><br><span class="language-javascript">            ],</span><br><span class="language-javascript">            [<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>]() &#123;</span><br><span class="language-javascript">                <span class="hljs-comment">//声明索引变量</span></span><br><span class="language-javascript">                <span class="hljs-keyword">let</span> index = <span class="hljs-number">0</span>;</span><br><span class="language-javascript">                <span class="hljs-comment">// return一个指针对象,指针对象里有一个next方法</span></span><br><span class="language-javascript">                <span class="hljs-comment">// next方法返回value和done属性值</span></span><br><span class="language-javascript">                <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">                    <span class="hljs-attr">next</span>: <span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="language-javascript">                        <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">students</span>.<span class="hljs-property">length</span>) &#123;</span><br><span class="language-javascript">                            <span class="hljs-keyword">let</span> result= &#123; <span class="hljs-attr">value</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">students</span>[index], <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span> &#125;;</span><br><span class="language-javascript">                            index++;</span><br><span class="language-javascript">                            <span class="hljs-keyword">return</span> result;</span><br><span class="language-javascript">                        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">                            <span class="hljs-keyword">return</span> &#123; <span class="hljs-attr">value</span>: <span class="hljs-string">&#x27;undefined&#x27;</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">true</span> &#125;</span><br><span class="language-javascript">                        &#125;</span><br><span class="language-javascript">                    &#125;</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-comment">// 自定义遍历对象school</span></span><br><span class="language-javascript">        <span class="hljs-keyword">for</span> (index <span class="hljs-keyword">of</span> school) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(index);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-12-1-生成器函数声明"><a href="#1-12-1-生成器函数声明" class="headerlink" title="1.12.1 生成器函数声明"></a>1.12.1 生成器函数声明</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//生成器是一个特殊的函数</span></span><br><span class="language-javascript">        <span class="hljs-comment">//特殊的声明方式</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span>* <span class="hljs-title function_">generate</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">// yield——函数代码的分隔符</span></span><br><span class="language-javascript">            <span class="hljs-comment">// console.log(&#x27;1&#x27;);</span></span><br><span class="language-javascript">            <span class="hljs-keyword">yield</span> <span class="hljs-string">&#x27;一只没有耳朵&#x27;</span>;</span><br><span class="language-javascript"></span><br><span class="language-javascript">            <span class="hljs-comment">// console.log(&#x27;2&#x27;);</span></span><br><span class="language-javascript">            <span class="hljs-keyword">yield</span> <span class="hljs-string">&#x27;一只没有尾巴&#x27;</span>;</span><br><span class="language-javascript"></span><br><span class="language-javascript">            <span class="hljs-comment">// console.log(&#x27;3&#x27;);</span></span><br><span class="language-javascript">            <span class="hljs-keyword">yield</span> <span class="hljs-string">&#x27;真奇怪&#x27;</span>;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-keyword">let</span> iterator = <span class="hljs-title function_">generate</span>();</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">generate</span>());</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 特殊的执行方式</span></span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>()); </span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>()); </span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>()); </span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>()); </span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 遍历</span></span><br><span class="language-javascript">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i <span class="hljs-keyword">of</span> <span class="hljs-title function_">generate</span>())&#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-12-2-生成器函数参数传递"><a href="#1-12-2-生成器函数参数传递" class="headerlink" title="1.12.2 生成器函数参数传递"></a>1.12.2 生成器函数参数传递</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//声明生成器函数</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span>* <span class="hljs-title function_">gen</span>(<span class="hljs-params">args</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(args);</span><br><span class="language-javascript">            <span class="hljs-comment">// yield暂停执行，next继续执行</span></span><br><span class="language-javascript">            <span class="hljs-keyword">let</span> one = <span class="hljs-keyword">yield</span> <span class="hljs-number">111</span>;</span><br><span class="language-javascript"></span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(one);</span><br><span class="language-javascript">            <span class="hljs-keyword">let</span> two=<span class="hljs-keyword">yield</span> <span class="hljs-number">222</span>;</span><br><span class="language-javascript"></span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(two);</span><br><span class="language-javascript">            <span class="hljs-keyword">let</span> three=<span class="hljs-keyword">yield</span> <span class="hljs-number">333</span>;</span><br><span class="language-javascript"></span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(three);</span><br><span class="language-javascript">            </span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-comment">// 执行获取迭代器对象</span></span><br><span class="language-javascript">        <span class="hljs-keyword">let</span> iterator = <span class="hljs-title function_">gen</span>(<span class="hljs-string">&#x27;AAA&#x27;</span>);</span><br><span class="language-javascript">        <span class="hljs-comment">//指针对象指向第一个</span></span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>());</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// next也可以传递参数，并作为上一个yield整体返回的结果</span></span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>(<span class="hljs-string">&#x27;BBB&#x27;</span>));</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>(<span class="hljs-string">&#x27;CCC&#x27;</span>));</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>(<span class="hljs-string">&#x27;DDD&#x27;</span>));</span><br><span class="language-javascript">        </span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-12-3-解决回调地狱问题"><a href="#1-12-3-解决回调地狱问题" class="headerlink" title="1.12.3 解决回调地狱问题"></a>1.12.3 解决回调地狱问题</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-comment">//需求：1s后控制台输出111，再过2s后输出222，再过3s后输出333</span></span><br><span class="language-javascript">       <span class="hljs-comment">//回调地狱，很难维护</span></span><br><span class="language-javascript">       <span class="hljs-comment">// setTimeout(() =&gt; &#123;</span></span><br><span class="language-javascript">       <span class="hljs-comment">//     console.log(&#x27;111&#x27;);</span></span><br><span class="language-javascript">       <span class="hljs-comment">//     setTimeout(() =&gt; &#123;</span></span><br><span class="language-javascript">       <span class="hljs-comment">//         console.log(&#x27;222&#x27;);</span></span><br><span class="language-javascript">       <span class="hljs-comment">//         setTimeout(() =&gt; &#123;</span></span><br><span class="language-javascript">       <span class="hljs-comment">//             console.log(&#x27;333&#x27;);</span></span><br><span class="language-javascript">       <span class="hljs-comment">//         &#125;, 3000);</span></span><br><span class="language-javascript">       <span class="hljs-comment">//     &#125;, 2000);</span></span><br><span class="language-javascript">       <span class="hljs-comment">// &#125;, 1000);</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-keyword">function</span> <span class="hljs-title function_">one</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">           <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="language-javascript">               <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;111&#x27;</span>);</span><br><span class="language-javascript">               iterator.<span class="hljs-title function_">next</span>();</span><br><span class="language-javascript">           &#125;, <span class="hljs-number">1000</span>);</span><br><span class="language-javascript">           <span class="hljs-comment">// 使用setTimeout是必要的，它使主线程到达yield后完全暂停才执行子线程操作</span></span><br><span class="language-javascript">           <span class="hljs-comment">// iterator.next()相当于告诉子线程完成后需干什么</span></span><br><span class="language-javascript">           <span class="hljs-comment">// 当然，JavaScript是单线程异步执行</span></span><br><span class="language-javascript">       &#125;</span><br><span class="language-javascript">       <span class="hljs-keyword">function</span> <span class="hljs-title function_">two</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">           <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="language-javascript">               <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;222&#x27;</span>);</span><br><span class="language-javascript">               iterator.<span class="hljs-title function_">next</span>();</span><br><span class="language-javascript">           &#125;, <span class="hljs-number">2000</span>);</span><br><span class="language-javascript">       &#125;</span><br><span class="language-javascript">       <span class="hljs-keyword">function</span> <span class="hljs-title function_">three</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">           <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="language-javascript">               <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;333&#x27;</span>);</span><br><span class="language-javascript">               iterator.<span class="hljs-title function_">next</span>();</span><br><span class="language-javascript">           &#125;, <span class="hljs-number">3000</span>);</span><br><span class="language-javascript">       &#125;</span><br><span class="language-javascript">       <span class="hljs-comment">//使用生成器函数解决</span></span><br><span class="language-javascript">       <span class="hljs-keyword">function</span>* <span class="hljs-title function_">gen</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">           <span class="hljs-keyword">yield</span> <span class="hljs-title function_">one</span>();</span><br><span class="language-javascript">           <span class="hljs-keyword">yield</span> <span class="hljs-title function_">two</span>();</span><br><span class="language-javascript">           <span class="hljs-keyword">yield</span> <span class="hljs-title function_">three</span>();</span><br><span class="language-javascript">       &#125;</span><br><span class="language-javascript">       <span class="hljs-keyword">let</span> iterator = <span class="hljs-title function_">gen</span>();</span><br><span class="language-javascript">       iterator.<span class="hljs-title function_">next</span>();</span><br><span class="language-javascript">   </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-12-4-模拟获取数据"><a href="#1-12-4-模拟获取数据" class="headerlink" title="1.12.4 模拟获取数据"></a>1.12.4 模拟获取数据</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//需求：先获取用户数据，再获取订单数据，再获取商品数据</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">getUsers</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">let</span> data = <span class="hljs-string">&#x27;用户数据&#x27;</span>;</span><br><span class="language-javascript">                iterator.<span class="hljs-title function_">next</span>(data);</span><br><span class="language-javascript">            &#125;, <span class="hljs-number">1000</span>);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">getOrders</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">let</span> data = <span class="hljs-string">&#x27;订单数据&#x27;</span>;</span><br><span class="language-javascript">                iterator.<span class="hljs-title function_">next</span>(data);</span><br><span class="language-javascript">            &#125;, <span class="hljs-number">1000</span>);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">getGoods</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">let</span> data = <span class="hljs-string">&#x27;商品数据&#x27;</span>;</span><br><span class="language-javascript">                iterator.<span class="hljs-title function_">next</span>(data);</span><br><span class="language-javascript">            &#125;, <span class="hljs-number">1000</span>);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-comment">//声明生成器函数</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span>* <span class="hljs-title function_">gen</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">let</span> users=<span class="hljs-keyword">yield</span> <span class="hljs-title function_">getUsers</span>();</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(users);</span><br><span class="language-javascript">            <span class="hljs-keyword">let</span> orders=<span class="hljs-keyword">yield</span> <span class="hljs-title function_">getOrders</span>();</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(orders);</span><br><span class="language-javascript">            <span class="hljs-keyword">let</span> goods=<span class="hljs-keyword">yield</span> <span class="hljs-title function_">getGoods</span>();</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(goods);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-keyword">let</span> iterator = <span class="hljs-title function_">gen</span>();</span><br><span class="language-javascript">        iterator.<span class="hljs-title function_">next</span>();</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-13-1-Promise的基本使用"><a href="#1-13-1-Promise的基本使用" class="headerlink" title="1.13.1 Promise的基本使用"></a>1.13.1 Promise的基本使用</h3><p><code>Promise</code>，简单说就是一个容器，里面保存着某个未来才会结束的事件（通常是一个异步操作）的结果</p>
<p><code>Promise</code>对象是一个构造函数，用来生成<code>Promise</code>实例</p>
<p><code>Promise</code>构造函数接受一个函数作为参数，该函数的两个参数分别是<code>resolve</code>和<code>reject</code>。它们是两个函数，由 JavaScript 引擎提供，不用自己部署。</p>
<p><code>resolve</code>函数的作用是，将<code>Promise</code>对象的状态从“未完成”变为“成功”（即从 pending 变为 resolved），在异步操作成功时调用，并将异步操作的结果，作为参数传递出去；<code>reject</code>函数的作用是，将<code>Promise</code>对象的状态从“未完成”变为“失败”（即从 pending 变为 rejected），在异步操作失败时调用，并将异步操作报出的错误，作为参数传递出去。</p>
<p><code>Promise</code>实例生成以后，可以用<code>then</code>方法分别指定<code>resolved</code>状态和<code>rejected</code>状态的回调函数。<code>then</code>方法可以接受两个回调函数作为参数。第一个回调函数是<code>Promise</code>对象的状态变为<code>resolved</code>时调用，第二个回调函数是<code>Promise</code>对象的状态变为<code>rejected</code>时调用。这两个函数都是可选的，不一定要提供。它们都接受<code>Promise</code>对象传出的值作为参数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> p=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">resolve,reject</span>)&#123;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-comment">// let data=&#x27;数据库中的用户数据&#x27;;</span><br>        <span class="hljs-comment">// // 只要调用就把p状态转为成功(resolved)</span><br>        <span class="hljs-comment">// resolve(data);</span><br><br>        <span class="hljs-keyword">let</span> err=<span class="hljs-string">&#x27;数据读取失败&#x27;</span>;<br>        <span class="hljs-title function_">reject</span>(err);<br>    &#125;, <span class="hljs-number">1000</span>);<br>&#125;);<br><span class="hljs-comment">// 当p状态为成功时(resolved)，调用第一个函数，否则调用第二个</span><br>p.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value);<br>&#125;,<span class="hljs-keyword">function</span>(<span class="hljs-params">reason</span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(reason);<br>&#125;)<br></code></pre></td></tr></table></figure>

<h3 id="1-13-2-Promise封装文件读取"><a href="#1-13-2-Promise封装文件读取" class="headerlink" title="1.13.2 Promise封装文件读取"></a>1.13.2 Promise封装文件读取</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs js">  <span class="hljs-comment">// 1.引入fs模块</span><br>  <span class="hljs-keyword">const</span> &#123; error &#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;console&#x27;</span>);<br><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;fs&#x27;</span>);<br><br>  <span class="hljs-comment">// 2.使用方法读取文件</span><br><span class="hljs-comment">//   fs.readFile(&#x27;../resources/test.txt&#x27;, (err, data) =&gt; &#123;</span><br><span class="hljs-comment">//       if (err) throw err;</span><br><span class="hljs-comment">//       console.log(data.toString());</span><br><span class="hljs-comment">//   &#125;)</span><br><br><span class="hljs-comment">// 3.使用Promise封装</span><br><span class="hljs-keyword">const</span> p=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    fs.<span class="hljs-title function_">readFile</span>(<span class="hljs-string">&#x27;../resources/test.txt&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">err,data</span>)=&gt;</span>&#123;<br>        <span class="hljs-keyword">if</span>(err) <span class="hljs-title function_">reject</span>(err);<br>        <span class="hljs-title function_">resolve</span>(data);<br>    &#125;)<br>&#125;)<br>p.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value.<span class="hljs-title function_">toString</span>());<br>&#125;,<span class="hljs-keyword">function</span>(<span class="hljs-params">reason</span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;读取失败&#x27;</span>);<br>&#125;)<br></code></pre></td></tr></table></figure>

<h3 id="1-13-3-Promise封装ajax请求"><a href="#1-13-3-Promise封装ajax请求" class="headerlink" title="1.13.3 Promise封装ajax请求"></a>1.13.3 Promise封装ajax请求</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">           <span class="hljs-comment">// 1.创建对象</span></span><br><span class="language-javascript">           <span class="hljs-keyword">const</span> xhr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XMLHttpRequest</span>();</span><br><span class="language-javascript">           <span class="hljs-comment">// 2.初始化</span></span><br><span class="language-javascript">           xhr.<span class="hljs-title function_">open</span>(<span class="hljs-string">&#x27;GET&#x27;</span>, <span class="hljs-string">&#x27;https://api.apiopen.top/getJoke&#x27;</span>);</span><br><span class="language-javascript">           <span class="hljs-comment">// 3.发送</span></span><br><span class="language-javascript">           xhr.<span class="hljs-title function_">send</span>();</span><br><span class="language-javascript">           <span class="hljs-comment">// 4.绑定事件，处理响应结果</span></span><br><span class="language-javascript">           xhr.<span class="hljs-property">onreadystatechange</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">               <span class="hljs-comment">// 判断状态码</span></span><br><span class="language-javascript">               <span class="hljs-keyword">if</span> (xhr.<span class="hljs-property">status</span> &gt;= <span class="hljs-number">200</span> &amp;&amp; xhr.<span class="hljs-property">status</span> &lt; <span class="hljs-number">300</span>) &#123;</span><br><span class="language-javascript">                   <span class="hljs-comment">// 表示成功</span></span><br><span class="language-javascript">                  <span class="hljs-title function_">resolve</span>(xhr.<span class="hljs-property">response</span>);</span><br><span class="language-javascript">               &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">                   <span class="hljs-comment">// 如果失败</span></span><br><span class="language-javascript">                   <span class="hljs-title function_">reject</span>(xhr.<span class="hljs-property">status</span>);</span><br><span class="language-javascript">               &#125;</span><br><span class="language-javascript">           &#125;</span><br><span class="language-javascript">       &#125;)</span><br><span class="language-javascript">       p.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>)&#123;</span><br><span class="language-javascript">           <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value);</span><br><span class="language-javascript">       &#125;,<span class="hljs-keyword">function</span>(<span class="hljs-params">reason</span>)&#123;</span><br><span class="language-javascript">           <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(reason);</span><br><span class="language-javascript">       &#125;)</span><br><span class="language-javascript">   </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-13-4-Promise-prototype-then-方法"><a href="#1-13-4-Promise-prototype-then-方法" class="headerlink" title="1.13.4 Promise.prototype.then()方法"></a>1.13.4 Promise.prototype.then()方法</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-comment">// 创建promise对象</span></span><br><span class="language-javascript">       <span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">           <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="language-javascript">               <span class="hljs-title function_">resolve</span>(<span class="hljs-string">&#x27;用户数据&#x27;</span>);</span><br><span class="language-javascript">               <span class="hljs-comment">// reject(&#x27;出错啦！&#x27;)</span></span><br><span class="language-javascript">           &#125;, <span class="hljs-number">1000</span>);</span><br><span class="language-javascript">       &#125;)</span><br><span class="language-javascript">       <span class="hljs-comment">// 调用then方法，返回一个promise对象，对象状态由对象的回调函数执行结果决定</span></span><br><span class="language-javascript">       <span class="hljs-keyword">let</span> result = p.<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> &#123;</span><br><span class="language-javascript">           <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value);</span><br><span class="language-javascript">           <span class="hljs-comment">// return &#x27;成功&#x27;;</span></span><br><span class="language-javascript">           <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">               <span class="hljs-comment">// resolve(&#x27;ok&#x27;);</span></span><br><span class="language-javascript">               <span class="hljs-comment">// reject(&#x27;error!&#x27;)</span></span><br><span class="language-javascript">               <span class="hljs-keyword">throw</span> <span class="hljs-string">&#x27;出错啦！&#x27;</span></span><br><span class="language-javascript">           &#125;)</span><br><span class="language-javascript">       &#125;, <span class="hljs-function"><span class="hljs-params">reason</span> =&gt;</span> &#123;</span><br><span class="language-javascript">           <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(reason);</span><br><span class="language-javascript">       &#125;)</span><br><span class="language-javascript">       <span class="hljs-comment">// 1.函数返回 非promise类型属性 对象状态成功，返回的值为对象的成功值</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-comment">// 2.函数返回 promise对象,resolve时成功，reject时失败</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-comment">// 3.抛出错误，失败</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result);</span><br><span class="language-javascript">   </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-13-5-Promise实现多个文件内容读取"><a href="#1-13-5-Promise实现多个文件内容读取" class="headerlink" title="1.13.5 Promise实现多个文件内容读取"></a>1.13.5 Promise实现多个文件内容读取</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//要求读取三个文件内容，并将它们拼接在一起输出</span><br><span class="hljs-comment">// 1.引入fs模块</span><br><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;fs&#x27;</span>);<br><br><span class="hljs-comment">// 2.回调实现</span><br><span class="hljs-comment">// fs.readFile(&#x27;../resources/file1.txt&#x27;, (err, data1) =&gt; &#123;</span><br><span class="hljs-comment">//     fs.readFile(&#x27;../resources/file2.txt&#x27;, (err, data2) =&gt; &#123;</span><br><span class="hljs-comment">//         fs.readFile(&#x27;../resources/file3.txt&#x27;, (err, data3) =&gt; &#123;</span><br><span class="hljs-comment">//             let result = data1 + &#x27;\n&#x27; + data2 + &#x27;\n&#x27; + data3</span><br><span class="hljs-comment">//             console.log(result);</span><br><span class="hljs-comment">//         &#125;)</span><br><span class="hljs-comment">//     &#125;)</span><br><span class="hljs-comment">// &#125;)</span><br><br><span class="hljs-comment">// 3.promise实现，链式调用</span><br><span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    fs.<span class="hljs-title function_">readFile</span>(<span class="hljs-string">&#x27;../resources/file1.txt&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> &#123;<br>        <span class="hljs-title function_">resolve</span>(data);<br>    &#125;)<br>&#125;)<br>p.<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>        fs.<span class="hljs-title function_">readFile</span>(<span class="hljs-string">&#x27;../resources/file2.txt&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> &#123;<br>            <span class="hljs-title function_">resolve</span>([value,data]);<br>        &#125;)<br>    &#125;)<br>&#125;).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>        fs.<span class="hljs-title function_">readFile</span>(<span class="hljs-string">&#x27;../resources/file3.txt&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> &#123;<br>            value.<span class="hljs-title function_">push</span>(data);<br>            <span class="hljs-title function_">resolve</span>(value);<br>        &#125;)<br>    &#125;)<br>&#125;).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">value</span>=&gt;</span>&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value.<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;\n&#x27;</span>));<br>&#125;)<br></code></pre></td></tr></table></figure>

<h3 id="1-13-6-Promise对象catch方法"><a href="#1-13-6-Promise对象catch方法" class="headerlink" title="1.13.6 Promise对象catch方法"></a>1.13.6 Promise对象catch方法</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">reject</span>(<span class="hljs-string">&#x27;出错啦！&#x27;</span>)</span><br><span class="language-javascript">      &#125;)</span><br><span class="language-javascript">      <span class="hljs-comment">// 语法糖，更方便程序员使用</span></span><br><span class="language-javascript">      p.<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">reason</span> =&gt;</span> &#123;</span><br><span class="language-javascript">          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(reason);</span><br><span class="language-javascript">      &#125;)</span><br><span class="language-javascript">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-14-1-集合介绍及API"><a href="#1-14-1-集合介绍及API" class="headerlink" title="1.14.1 集合介绍及API"></a>1.14.1 集合介绍及API</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 声明set</span></span><br><span class="language-javascript">        <span class="hljs-keyword">let</span> s = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();</span><br><span class="language-javascript">        <span class="hljs-keyword">let</span> s2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-string">&#x27;monica&#x27;</span>, <span class="hljs-string">&#x27;andrew&#x27;</span>, <span class="hljs-string">&#x27;rosa&#x27;</span>, <span class="hljs-string">&#x27;tom&#x27;</span>]);</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 元素个数</span></span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(s2.<span class="hljs-property">size</span>);</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 添加新元素</span></span><br><span class="language-javascript">        <span class="hljs-comment">// s2.add(&#x27;bob&#x27;);</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 删除元素</span></span><br><span class="language-javascript">        <span class="hljs-comment">// s2.delete(&#x27;tom&#x27;);</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 检测</span></span><br><span class="language-javascript">        <span class="hljs-comment">// console.log(s2.has(&#x27;jack&#x27;));</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 清空</span></span><br><span class="language-javascript">        <span class="hljs-comment">// s2.clear();</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 遍历</span></span><br><span class="language-javascript">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i <span class="hljs-keyword">of</span> s2)&#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(s2);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-14-2-集合实践练习（数组去重，交集，并集，差集）"><a href="#1-14-2-集合实践练习（数组去重，交集，并集，差集）" class="headerlink" title="1.14.2 集合实践练习（数组去重，交集，并集，差集）"></a>1.14.2 集合实践练习（数组去重，交集，并集，差集）</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">4</span>]</span><br><span class="language-javascript">       <span class="hljs-comment">// 数组去重</span></span><br><span class="language-javascript">       <span class="hljs-keyword">let</span> result = [...<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(arr)]</span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result)</span><br><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-comment">// 交集</span></span><br><span class="language-javascript">       <span class="hljs-keyword">let</span> arr1 = [<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]</span><br><span class="language-javascript">       <span class="hljs-keyword">let</span> s = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(arr)</span><br><span class="language-javascript">       <span class="hljs-keyword">let</span> s1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(arr1)</span><br><span class="language-javascript">       <span class="hljs-comment">// let intersection=[...s].filter(item=&gt;&#123;</span></span><br><span class="language-javascript">       <span class="hljs-comment">//     if(s1.has(item))&#123;</span></span><br><span class="language-javascript">       <span class="hljs-comment">//         return true</span></span><br><span class="language-javascript">       <span class="hljs-comment">//     &#125;else&#123;</span></span><br><span class="language-javascript">       <span class="hljs-comment">//         return false</span></span><br><span class="language-javascript">       <span class="hljs-comment">//     &#125;</span></span><br><span class="language-javascript">       <span class="hljs-comment">// &#125;)</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-comment">// 简化后</span></span><br><span class="language-javascript">       <span class="hljs-keyword">let</span> intersection = [...[...s].<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> s1.<span class="hljs-title function_">has</span>(item))]</span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(intersection);</span><br><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-comment">// 并集</span></span><br><span class="language-javascript">       <span class="hljs-keyword">let</span> union = [...<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(arr.<span class="hljs-title function_">concat</span>(arr1))];</span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(union);</span><br><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-comment">// 差集(与交集的判断逻辑相反,过滤出不在s1中的元素)</span></span><br><span class="language-javascript">       <span class="hljs-keyword">let</span> diff = [...[...s].<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> !s1.<span class="hljs-title function_">has</span>(item))]</span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(diff);</span><br><span class="language-javascript"></span><br><span class="language-javascript">   </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-15-map简介及API"><a href="#1-15-map简介及API" class="headerlink" title="1.15 map简介及API"></a>1.15 map简介及API</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-comment">// 声明map</span></span><br><span class="language-javascript">       <span class="hljs-keyword">let</span> m = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();</span><br><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-comment">// 添加元素</span></span><br><span class="language-javascript">       m.<span class="hljs-title function_">set</span>(<span class="hljs-string">&#x27;name&#x27;</span>, <span class="hljs-string">&#x27;monica&#x27;</span>);</span><br><span class="language-javascript">       m.<span class="hljs-title function_">set</span>(<span class="hljs-string">&#x27;change&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">           <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;改变&#x27;</span>);</span><br><span class="language-javascript">       &#125;);</span><br><span class="language-javascript">       <span class="hljs-keyword">let</span> key = &#123;</span><br><span class="language-javascript">           <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;monica&#x27;</span></span><br><span class="language-javascript">       &#125;</span><br><span class="language-javascript">       m.<span class="hljs-title function_">set</span>(key, [<span class="hljs-string">&#x27;tom&#x27;</span>, <span class="hljs-string">&#x27;jack&#x27;</span>, <span class="hljs-string">&#x27;andrew&#x27;</span>]);</span><br><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-comment">// 删除元素</span></span><br><span class="language-javascript">       <span class="hljs-comment">// m.delete(&#x27;name&#x27;);</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-comment">// 获取</span></span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(m.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;change&#x27;</span>));</span><br><span class="language-javascript">       <span class="hljs-comment">// 清空</span></span><br><span class="language-javascript">       <span class="hljs-comment">// m.clear();</span></span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(m);</span><br><span class="language-javascript">       <span class="hljs-comment">// 遍历</span></span><br><span class="language-javascript">       <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i <span class="hljs-keyword">of</span> m)&#123;</span><br><span class="language-javascript">           <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i);</span><br><span class="language-javascript">       &#125;</span><br><span class="language-javascript">   </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-16-1-class介绍与初体验"><a href="#1-16-1-class介绍与初体验" class="headerlink" title="1.16.1 class介绍与初体验"></a>1.16.1 class介绍与初体验</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// ES5写法</span></span><br><span class="language-javascript">        <span class="hljs-comment">// 定义一个构造函数</span></span><br><span class="language-javascript">        <span class="hljs-comment">// function Phone(brand, price) &#123;</span></span><br><span class="language-javascript">        <span class="hljs-comment">//     this.brand = brand;</span></span><br><span class="language-javascript">        <span class="hljs-comment">//     this.price = price;</span></span><br><span class="language-javascript">        <span class="hljs-comment">// &#125;</span></span><br><span class="language-javascript">        <span class="hljs-comment">// // 向构造函数的prototype中添加方法</span></span><br><span class="language-javascript">        <span class="hljs-comment">// Phone.prototype.call = function () &#123;</span></span><br><span class="language-javascript">        <span class="hljs-comment">//     console.log(&#x27;打电话&#x27;);</span></span><br><span class="language-javascript">        <span class="hljs-comment">// &#125;</span></span><br><span class="language-javascript">        <span class="hljs-comment">// let p=new Phone(&#x27;huawei&#x27;,5999);</span></span><br><span class="language-javascript">        <span class="hljs-comment">// p.call();</span></span><br><span class="language-javascript">        <span class="hljs-comment">// console.log(p);</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//class写法,相当于语法糖,大部分能用ES5实现,但更好体现面向对象</span></span><br><span class="language-javascript">        <span class="hljs-keyword">class</span> <span class="hljs-title class_">Phone</span> &#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">constructor</span>(<span class="hljs-params">brand, price</span>) &#123;</span><br><span class="language-javascript">                <span class="hljs-variable language_">this</span>.<span class="hljs-property">brand</span> = brand;</span><br><span class="language-javascript">                <span class="hljs-variable language_">this</span>.<span class="hljs-property">price</span> = price;</span><br><span class="language-javascript">            &#125;;</span><br><span class="language-javascript">            <span class="hljs-title function_">call</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;打电话&#x27;</span>);</span><br><span class="language-javascript">            &#125;            </span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-keyword">let</span> p2=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Phone</span>(<span class="hljs-string">&#x27;sanxing&#x27;</span>,<span class="hljs-number">2999</span>);</span><br><span class="language-javascript">        p2.<span class="hljs-title function_">call</span>();</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>((p2));</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-16-2-class静态成员"><a href="#1-16-2-class静态成员" class="headerlink" title="1.16.2 class静态成员"></a>1.16.2 class静态成员</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-comment">// 函数对象的属性与方法只在函数对象上,而不在实例对象上</span></span><br><span class="language-javascript">       <span class="hljs-comment">// 类似于类的静态成员,只能通过类访问,而实例无法访问</span></span><br><span class="language-javascript">       <span class="hljs-keyword">class</span> <span class="hljs-title class_">Phone</span> &#123;</span><br><span class="language-javascript">           <span class="hljs-keyword">static</span> name = <span class="hljs-string">&#x27;monica&#x27;</span>;</span><br><span class="language-javascript">           <span class="hljs-keyword">static</span> <span class="hljs-title function_">call</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">               <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;打电话&#x27;</span>);</span><br><span class="language-javascript">           &#125;;</span><br><span class="language-javascript">           <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">           &#125;;</span><br><span class="language-javascript">       &#125;</span><br><span class="language-javascript">       <span class="hljs-keyword">let</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Phone</span>();</span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(p.<span class="hljs-property">name</span>);</span><br><span class="language-javascript">       <span class="hljs-comment">// p.call();</span></span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Phone</span>.<span class="hljs-property">name</span>);</span><br><span class="language-javascript">       <span class="hljs-title class_">Phone</span>.<span class="hljs-title function_">call</span>();</span><br><span class="language-javascript">   </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-16-2-ES5构造函数继承"><a href="#1-16-2-ES5构造函数继承" class="headerlink" title="1.16.2 ES5构造函数继承"></a>1.16.2 ES5构造函数继承</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 构造函数继承</span></span><br><span class="language-javascript">        <span class="hljs-comment">//手机</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">Phone</span>(<span class="hljs-params">brand, price</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-property">brand</span> = brand;</span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-property">price</span> = price;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-title class_">Phone</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">call</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;我可以打电话！&#x27;</span>);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 智能手机</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">SmartPhone</span>(<span class="hljs-params">brand, price, color, size</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">// 改变this指向并传参，立即执行Phone(brand,price)</span></span><br><span class="language-javascript">            <span class="hljs-comment">// apply(this,[a,b]) 以数组形式传参</span></span><br><span class="language-javascript">            <span class="hljs-title class_">Phone</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, brand, price);</span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = color;</span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> = size;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-comment">// *********设置子级构造函数的原型***********</span></span><br><span class="language-javascript">        <span class="hljs-title class_">SmartPhone</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Phone</span>;</span><br><span class="language-javascript">        <span class="hljs-title class_">SmartPhone</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">SmartPhone</span>;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-title class_">SmartPhone</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">photo</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;拍照&#x27;</span>);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-title class_">SmartPhone</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">playGame</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;玩游戏&#x27;</span>);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-keyword">let</span> sp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SmartPhone</span>(<span class="hljs-string">&#x27;huawei&#x27;</span>, <span class="hljs-number">5999</span>, <span class="hljs-string">&#x27;black&#x27;</span>, <span class="hljs-string">&#x27;4.7inch&#x27;</span>);</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(sp);</span><br><span class="language-javascript">        sp.<span class="hljs-title function_">call</span>();</span><br><span class="language-javascript">        sp.<span class="hljs-title function_">photo</span>();</span><br><span class="language-javascript">        sp.<span class="hljs-title function_">playGame</span>();</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-16-3-class的类继承"><a href="#1-16-3-class的类继承" class="headerlink" title="1.16.3 class的类继承"></a>1.16.3 class的类继承</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-comment">// 父类</span></span><br><span class="language-javascript">       <span class="hljs-keyword">class</span> <span class="hljs-title class_">Phone</span> &#123;</span><br><span class="language-javascript">           <span class="hljs-title function_">constructor</span>(<span class="hljs-params">brand, price</span>) &#123;</span><br><span class="language-javascript">               <span class="hljs-variable language_">this</span>.<span class="hljs-property">brand</span> = brand;</span><br><span class="language-javascript">               <span class="hljs-variable language_">this</span>.<span class="hljs-property">price</span> = price;</span><br><span class="language-javascript">           &#125;;</span><br><span class="language-javascript">           <span class="hljs-title function_">call</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">               <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;打电话&#x27;</span>);</span><br><span class="language-javascript">           &#125;;</span><br><span class="language-javascript">       &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-comment">// 子类</span></span><br><span class="language-javascript">       <span class="hljs-keyword">class</span> <span class="hljs-title class_">SmartPhone</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Phone</span> &#123;</span><br><span class="language-javascript">           <span class="hljs-title function_">constructor</span>(<span class="hljs-params">brand, price, color, size</span>) &#123;</span><br><span class="language-javascript">               <span class="hljs-variable language_">super</span>(brand, price);</span><br><span class="language-javascript">               <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = color;</span><br><span class="language-javascript">               <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> = size;</span><br><span class="language-javascript">           &#125;;</span><br><span class="language-javascript">           <span class="hljs-title function_">photo</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">               <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;拍照&#x27;</span>);</span><br><span class="language-javascript">           &#125;;</span><br><span class="language-javascript">           <span class="hljs-title function_">playGame</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">               <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;玩游戏&#x27;</span>);</span><br><span class="language-javascript">           &#125;</span><br><span class="language-javascript">       &#125;</span><br><span class="language-javascript">       <span class="hljs-keyword">let</span> sp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SmartPhone</span>(<span class="hljs-string">&#x27;xiaomi&#x27;</span>, <span class="hljs-number">4999</span>, <span class="hljs-string">&#x27;white&#x27;</span>, <span class="hljs-string">&#x27;4.9inch&#x27;</span>);</span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(sp);</span><br><span class="language-javascript">       sp.<span class="hljs-title function_">call</span>();</span><br><span class="language-javascript">       sp.<span class="hljs-title function_">photo</span>();</span><br><span class="language-javascript">       sp.<span class="hljs-title function_">playGame</span>();</span><br><span class="language-javascript">   </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-16-4-子类对父类方法的重写"><a href="#1-16-4-子类对父类方法的重写" class="headerlink" title="1.16.4 子类对父类方法的重写"></a>1.16.4 子类对父类方法的重写</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-comment">// 父类</span></span><br><span class="language-javascript">       <span class="hljs-keyword">class</span> <span class="hljs-title class_">Phone</span> &#123;</span><br><span class="language-javascript">           <span class="hljs-title function_">constructor</span>(<span class="hljs-params">brand, price</span>) &#123;</span><br><span class="language-javascript">               <span class="hljs-variable language_">this</span>.<span class="hljs-property">brand</span> = brand;</span><br><span class="language-javascript">               <span class="hljs-variable language_">this</span>.<span class="hljs-property">price</span> = price;</span><br><span class="language-javascript">           &#125;;</span><br><span class="language-javascript">           <span class="hljs-title function_">call</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">               <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;打电话&#x27;</span>);</span><br><span class="language-javascript">           &#125;;</span><br><span class="language-javascript">       &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-comment">// 子类</span></span><br><span class="language-javascript">       <span class="hljs-keyword">class</span> <span class="hljs-title class_">SmartPhone</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Phone</span> &#123;</span><br><span class="language-javascript">           <span class="hljs-title function_">constructor</span>(<span class="hljs-params">brand, price, color, size</span>) &#123;</span><br><span class="language-javascript">               <span class="hljs-variable language_">super</span>(brand, price);</span><br><span class="language-javascript">               <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = color;</span><br><span class="language-javascript">               <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> = size;</span><br><span class="language-javascript">           &#125;;</span><br><span class="language-javascript">           <span class="hljs-comment">// 重写父类方法</span></span><br><span class="language-javascript">           <span class="hljs-comment">// 但不能在成员属性中调用super()</span></span><br><span class="language-javascript">           <span class="hljs-comment">// 只能进行重写</span></span><br><span class="language-javascript">           <span class="hljs-title function_">call</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">               <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;我可以进行视频通话&#x27;</span>);</span><br><span class="language-javascript">           &#125;;</span><br><span class="language-javascript">           <span class="hljs-title function_">photo</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">               <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;拍照&#x27;</span>);</span><br><span class="language-javascript">           &#125;;</span><br><span class="language-javascript">           <span class="hljs-title function_">playGame</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">               <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;玩游戏&#x27;</span>);</span><br><span class="language-javascript">           &#125;</span><br><span class="language-javascript">       &#125;</span><br><span class="language-javascript">       <span class="hljs-keyword">let</span> sp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SmartPhone</span>(<span class="hljs-string">&#x27;xiaomi&#x27;</span>, <span class="hljs-number">4999</span>, <span class="hljs-string">&#x27;white&#x27;</span>, <span class="hljs-string">&#x27;4.9inch&#x27;</span>);</span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(sp);</span><br><span class="language-javascript">       sp.<span class="hljs-title function_">call</span>();</span><br><span class="language-javascript">       sp.<span class="hljs-title function_">photo</span>();</span><br><span class="language-javascript">       sp.<span class="hljs-title function_">playGame</span>();</span><br><span class="language-javascript">   </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-16-5-class中getter和setter设置"><a href="#1-16-5-class中getter和setter设置" class="headerlink" title="1.16.5 class中getter和setter设置"></a>1.16.5 class中getter和setter设置</h3><p>（一般与动态属性相关）</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-keyword">class</span> <span class="hljs-title class_">Phone</span> &#123;</span><br><span class="language-javascript">           <span class="hljs-keyword">get</span> <span class="hljs-title function_">price</span>() &#123;</span><br><span class="language-javascript">               <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;price被读取了&#x27;</span>);</span><br><span class="language-javascript">               <span class="hljs-comment">// 必须要返回一个值，后续调用price属性(与get后同名)即可触发</span></span><br><span class="language-javascript">               <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;123&#x27;</span>;</span><br><span class="language-javascript">           &#125;;</span><br><span class="language-javascript">           <span class="hljs-keyword">set</span> <span class="hljs-title function_">price</span>(<span class="hljs-params">newValue</span>) &#123;</span><br><span class="language-javascript">               <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;price被修改了&#x27;</span>);</span><br><span class="language-javascript">               <span class="hljs-comment">// 可判断给属性赋值的逻辑，如newValue是否合法</span></span><br><span class="language-javascript">               <span class="hljs-comment">// 必须要传入至少一个参数</span></span><br><span class="language-javascript">           &#125;</span><br><span class="language-javascript">       &#125;;</span><br><span class="language-javascript">       <span class="hljs-keyword">let</span> s = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Phone</span>();</span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(s.<span class="hljs-property">price</span>);</span><br><span class="language-javascript">   </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h2 id="1-17-ES6的数值扩展"><a href="#1-17-ES6的数值扩展" class="headerlink" title="1.17 ES6的数值扩展"></a>1.17 ES6的数值扩展</h2><ul>
<li><p>Number.EPSILON ：ES6 在 Number 对象上，新增一个极小的常量，表示 1 与 大于 1 的最小浮点数之差。</p>
</li>
<li><p>Math.trunc () ：去除一个数的小数部分，返回整数部分。</p>
</li>
<li><p>Math.sign () ：用来判断一个数是正数（1）、负数（-1）还是零（0）。</p>
</li>
<li><p>Number.isFinite ：检测是否为有限数。</p>
</li>
<li><p>Number.isNaN ：检测一个数值是不是NaN。</p>
</li>
<li><p>Number.parseInt</p>
</li>
<li><pre><code class="js">Number.parseInt(&#39;12348哈哈哈哈哈&#39;)	//12348
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><br>- <span class="hljs-built_in">Number</span>.<span class="hljs-built_in">parseFloat</span><br><br>- ```<span class="language-javascript">js</span><br><span class="language-javascript">  <span class="hljs-title class_">Number</span>.<span class="hljs-built_in">parseFloat</span>(<span class="hljs-string">&#x27;3.1415926嘻嘻嘻嘻嘻嘻&#x27;</span>)	<span class="hljs-comment">//3.1415926</span></span><br></code></pre></td></tr></table></figure>
</code></pre>
</li>
<li><p>Number.isInteger： 判断一个数是否为整数。</p>
</li>
</ul>
<h3 id="1-18-ES6的对象方法扩展"><a href="#1-18-ES6的对象方法扩展" class="headerlink" title="1.18 ES6的对象方法扩展"></a>1.18 ES6的对象方法扩展</h3><h4 id="Object-is"><a href="#Object-is" class="headerlink" title="Object.is()"></a>Object.is()</h4><p>ES5 比较两个值是否相等，只有两个运算符：相等运算符（<code>==</code>）和严格相等运算符（<code>===</code>）。它们都有缺点，前者会自动转换数据类型，后者的<code>NaN</code>不等于自身，以及<code>+0</code>等于<code>-0</code>。JavaScript 缺乏一种运算，在所有环境中，只要两个值是一样的，它们就应该相等。</p>
<p>ES6 提出“Same-value equality”（同值相等）算法，用来解决这个问题。<code>Object.is</code>就是部署这个算法的新方法。它用来比较两个值是否严格相等，与严格比较运算符（&#x3D;&#x3D;&#x3D;）的行为基本一致。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js">+<span class="hljs-number">0</span> === -<span class="hljs-number">0</span> <span class="hljs-comment">//true</span><br><span class="hljs-title class_">NaN</span> === <span class="hljs-title class_">NaN</span> <span class="hljs-comment">// false</span><br><br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">is</span>(+<span class="hljs-number">0</span>, -<span class="hljs-number">0</span>) <span class="hljs-comment">// false</span><br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">is</span>(<span class="hljs-title class_">NaN</span>, <span class="hljs-title class_">NaN</span>) <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure>

<h4 id="Object-assign-浅拷贝"><a href="#Object-assign-浅拷贝" class="headerlink" title="Object.assign()(浅拷贝)"></a>Object.assign()(浅拷贝)</h4><p><code>Object.assign()</code>方法用于对象的合并，将源对象（source）的所有可枚举属性，复制到目标对象（target）。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> target = &#123; <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> &#125;;<br><br><span class="hljs-keyword">const</span> source1 = &#123; <span class="hljs-attr">b</span>: <span class="hljs-number">2</span> &#125;;<br><span class="hljs-keyword">const</span> source2 = &#123; <span class="hljs-attr">c</span>: <span class="hljs-number">3</span> &#125;;<br><br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(target, source1, source2);<br>target <span class="hljs-comment">// &#123;a:1, b:2, c:3&#125;</span><br></code></pre></td></tr></table></figure>

<p><code>Object.assign()</code>方法的第一个参数是目标对象，后面的参数都是源对象。</p>
<p>注意，如果目标对象与源对象有同名属性，或多个源对象有同名属性，则后面的属性会覆盖前面的属性。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> target = &#123; <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">1</span> &#125;;<br><br><span class="hljs-keyword">const</span> source1 = &#123; <span class="hljs-attr">b</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">c</span>: <span class="hljs-number">2</span> &#125;;<br><span class="hljs-keyword">const</span> source2 = &#123; <span class="hljs-attr">c</span>: <span class="hljs-number">3</span> &#125;;<br><br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(target, source1, source2);<br>target <span class="hljs-comment">// &#123;a:1, b:2, c:3&#125;</span><br></code></pre></td></tr></table></figure>

<h4 id="Object-getPrototypeOf"><a href="#Object-getPrototypeOf" class="headerlink" title="Object.getPrototypeOf()"></a>Object.getPrototypeOf()</h4><p>该方法与<code>Object.setPrototypeOf</code>方法配套，用于读取一个对象的原型对象。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(obj);<br></code></pre></td></tr></table></figure>

<p>下面是一个例子。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Rectangle</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-comment">// ...</span><br>&#125;<br><br><span class="hljs-keyword">const</span> rec = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Rectangle</span>();<br><br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(rec) === <span class="hljs-title class_">Rectangle</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span><br><span class="hljs-comment">// true</span><br><br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">setPrototypeOf</span>(rec, <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);<br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(rec) === <span class="hljs-title class_">Rectangle</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span><br><span class="hljs-comment">// false</span><br></code></pre></td></tr></table></figure>

<h4 id="Object-setPrototypeOf"><a href="#Object-setPrototypeOf" class="headerlink" title="Object.setPrototypeOf()"></a>Object.setPrototypeOf()</h4><p><code>Object.setPrototypeOf</code>方法的作用与<code>__proto__</code>相同，用来设置一个对象的原型对象（prototype），返回参数对象本身。它是 ES6 正式推荐的设置原型对象的方法。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 格式</span><br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">setPrototypeOf</span>(object, prototype)<br><br><span class="hljs-comment">// 用法</span><br><span class="hljs-keyword">const</span> o = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">setPrototypeOf</span>(&#123;&#125;, <span class="hljs-literal">null</span>);<br></code></pre></td></tr></table></figure>

<p>该方法等同于下面的函数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setPrototypeOf</span>(<span class="hljs-params">obj, proto</span>) &#123;<br>  obj.<span class="hljs-property">__proto__</span> = proto;<br>  <span class="hljs-keyword">return</span> obj;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>下面是一个例子。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> proto = &#123;&#125;;<br><span class="hljs-keyword">let</span> obj = &#123; <span class="hljs-attr">x</span>: <span class="hljs-number">10</span> &#125;;<br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">setPrototypeOf</span>(obj, proto);<br><br>proto.<span class="hljs-property">y</span> = <span class="hljs-number">20</span>;<br>proto.<span class="hljs-property">z</span> = <span class="hljs-number">40</span>;<br><br>obj.<span class="hljs-property">x</span> <span class="hljs-comment">// 10</span><br>obj.<span class="hljs-property">y</span> <span class="hljs-comment">// 20</span><br>obj.<span class="hljs-property">z</span> <span class="hljs-comment">// 40</span><br></code></pre></td></tr></table></figure>

<p>上面代码将<code>proto</code>对象设为<code>obj</code>对象的原型，所以从<code>obj</code>对象可以读取<code>proto</code>对象的属性。</p>
<h3 id="1-19-1-模块化介绍"><a href="#1-19-1-模块化介绍" class="headerlink" title="1.19.1 模块化介绍"></a>1.19.1 模块化介绍</h3><p>防止命名冲突；代码复用；高维护性</p>
<h3 id="1-19-2-模块化语法"><a href="#1-19-2-模块化语法" class="headerlink" title="1.19.2 模块化语法"></a>1.19.2 模块化语法</h3><p>export 命令用于规定模块的对外接口</p>
<p>import 命令用于输入其他模块提供的功能</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> m1 <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./js/m1.js&#x27;</span>;</span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(m1);</span><br><span class="language-javascript">   </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 在需要向外暴露的数据或函数等前加上 export 命令</span><br><span class="hljs-comment">// 分别暴露</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> student=<span class="hljs-string">&#x27;monica&#x27;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">study</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;我爱学习&#x27;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="1-19-3-模块暴露语法汇总"><a href="#1-19-3-模块暴露语法汇总" class="headerlink" title="1.19.3 模块暴露语法汇总"></a>1.19.3 模块暴露语法汇总</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> m1 <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./js/m1.js&#x27;</span>;</span><br><span class="language-javascript">       <span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> m2 <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./js/m2.js&#x27;</span></span><br><span class="language-javascript">       <span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> m3 <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./js/m3.js&#x27;</span></span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(m1);</span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(m2);</span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(m3);</span><br><span class="language-javascript">       <span class="hljs-comment">// m3的属性和方法在default对象下</span></span><br><span class="language-javascript">       m3.<span class="hljs-property">default</span>.<span class="hljs-title function_">improve</span>();</span><br><span class="language-javascript">   </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h4 id="分别暴露"><a href="#分别暴露" class="headerlink" title="分别暴露"></a>分别暴露</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 在需要向外暴露的数据或函数等前加上 export 命令</span><br><span class="hljs-comment">// 分别暴露</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> student=<span class="hljs-string">&#x27;monica&#x27;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">study</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;我爱学习&#x27;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="统一暴露"><a href="#统一暴露" class="headerlink" title="统一暴露"></a>统一暴露</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 统一暴露</span><br><span class="hljs-keyword">let</span> school=<span class="hljs-string">&#x27;UESTC&#x27;</span>;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">change</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;改变你&#x27;</span>);<br>&#125;;<br><span class="hljs-keyword">export</span>&#123;school,change&#125;;<br></code></pre></td></tr></table></figure>

<h4 id="默认暴露"><a href="#默认暴露" class="headerlink" title="默认暴露"></a>默认暴露</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 默认暴露</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>&#123;<br>    <span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;tom&#x27;</span>,<br>    <span class="hljs-title function_">improve</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;我想提升自己&#x27;</span>);<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>

<h3 id="1-19-4-模块引入语法汇总"><a href="#1-19-4-模块引入语法汇总" class="headerlink" title="1.19.4 模块引入语法汇总"></a>1.19.4 模块引入语法汇总</h3><h4 id="通用的引入方式"><a href="#通用的引入方式" class="headerlink" title="通用的引入方式"></a>通用的引入方式</h4><h4 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h4><h4 id="简便形式（只针对默认暴露）"><a href="#简便形式（只针对默认暴露）" class="headerlink" title="简便形式（只针对默认暴露）"></a>简便形式（只针对默认暴露）</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-comment">// 1.通用的导入方式</span></span><br><span class="language-javascript">       <span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> m1 <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./js/m1.js&#x27;</span>;</span><br><span class="language-javascript">       <span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> m2 <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./js/m2.js&#x27;</span></span><br><span class="language-javascript">       <span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> m3 <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./js/m3.js&#x27;</span></span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(m1);</span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(m2);</span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(m3);</span><br><span class="language-javascript">       <span class="hljs-comment">// m3的属性和方法在default对象下</span></span><br><span class="language-javascript">       m3.<span class="hljs-property">default</span>.<span class="hljs-title function_">improve</span>();</span><br><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-comment">// 2.解构赋值</span></span><br><span class="language-javascript">       <span class="hljs-keyword">import</span> &#123; student, study &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./js/m1.js&#x27;</span>;</span><br><span class="language-javascript">       <span class="hljs-comment">// 有重名的话直接as 别名解决就好</span></span><br><span class="language-javascript">       <span class="hljs-keyword">import</span> &#123; student <span class="hljs-keyword">as</span> <span class="hljs-variable constant_">UESTC</span>, change &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./js/m2.js&#x27;</span>;</span><br><span class="language-javascript">       <span class="hljs-keyword">import</span> &#123; <span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> m3 &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./js/m3.js&#x27;</span>;</span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(student, study);</span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable constant_">UESTC</span>, study);</span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(m3);</span><br><span class="language-javascript"></span><br><span class="language-javascript">       <span class="hljs-comment">// 3.简便形式（仅针对默认暴露）</span></span><br><span class="language-javascript">       <span class="hljs-keyword">import</span> m3 <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./js/m3.js&#x27;</span>;</span><br><span class="language-javascript">       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(m3);</span><br><span class="language-javascript">   </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-19-5-第2种模块化方式"><a href="#1-19-5-第2种模块化方式" class="headerlink" title="1.19.5 第2种模块化方式"></a>1.19.5 第2种模块化方式</h3><p>app.js(入口文件)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 入口文件</span><br><br><span class="hljs-comment">// 引入模块</span><br><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> m1 <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./m1.js&#x27;</span>;<br><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> m2 <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./m2.js&#x27;</span><br><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> m3 <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./m3.js&#x27;</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(m1);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(m2);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(m3);<br></code></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;module&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./js/app.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/ES6%E6%96%B0%E7%89%B9%E6%80%A7/" class="category-chain-item">ES6新特性</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" class="print-no-link">#学习笔记</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>学习ES6新特性</div>
      <div>http://example.com/2024/09/24/学习ES6新特性/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>monica</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2024年9月24日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2024/09/24/%E5%AD%A6%E4%B9%A0AJAX/" title="学习AJAX">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">学习AJAX</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2024/09/23/hello-world/" title="创建你的第一个博客">
                        <span class="hidden-mobile">创建你的第一个博客</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <script type="text/javascript">
    Fluid.utils.loadComments('#comments', function() {
      var light = 'github-light';
      var dark = 'github-dark';
      var schema = document.documentElement.getAttribute('data-user-color-scheme');
      if (schema === 'dark') {
        schema = dark;
      } else {
        schema = light;
      }
      window.UtterancesThemeLight = light;
      window.UtterancesThemeDark = dark;
      var s = document.createElement('script');
      s.setAttribute('src', 'https://utteranc.es/client.js');
      s.setAttribute('repo', 'monica4125/utterances-comment');
      s.setAttribute('issue-term', 'pathname');
      
      s.setAttribute('label', 'utterances');
      
      s.setAttribute('theme', schema);
      s.setAttribute('crossorigin', 'anonymous');
      document.getElementById('comments').appendChild(s);
    })
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="leancloud-site-pv-container" style="display: none">
        总访问量
        <span id="leancloud-site-pv"></span>
        次
      </span>
    
    
      <span id="leancloud-site-uv-container" style="display: none">
        总访问数
        <span id="leancloud-site-uv"></span>
        人
      </span>
    
    

  

</div>

  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script defer src="/js/leancloud.js" ></script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
